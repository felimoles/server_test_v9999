<div class="page-header">
	<h1>View Poll</h1>
</div>
<div class="well well-lg">
	<strong>Pregunta</strong><br>{{poll.question}}
</div>

<div ng-show="!poll.Activa">
	<p>
		<em>
			La encuesta no se encuentra <strong>activa</strong>.</span>
		</em>
	</p>
</div>

<div ng-hide="poll.userVoted || !poll.Activa">
	<p class="lead">Selecciona uno de las alternativas:</p>

	<form role="form" ng-submit="vote()" ng-show="poll.tipo == 2">
		<div ng-repeat="choice in polled" div class="row">
			<div class="col-xs-3">
				<div class="input-group">
						<input type="number" maxlength="4" min="{{poll.Min}}" 
							max="{{poll.Max}}" step="1" class="form-control" ng-model="dato"
							placeholder="{{poll.Min}} - {{poll.Max}}" ng-change="newValue({{$index}}, dato)">
					<div class="input-group-addon">{{choice.text}}</div>
				</div>
			</div><br>
		</div>
		<div class="row">
			<div class="col-xs-6">
				<button class="btn btn-primary pull-right" type="submit">Vote &raquo;</button>
			</div>
		</div>
	</form>

	<form role="form" ng-submit="vote()" ng-show="poll.tipo != 2"> 
		<div ng-repeat="choice in polled" class="radio">
			<label>
				<input type="radio" name="choice" ng-model="poll.userVote" value="{{choice._id}}">
				{{choice.text}}
			</label>
		</div>
		<p><hr></p>
		<div class="row">
			<div class="col-xs-6">
				<button class="btn btn-primary pull-right" type="submit">Vote &raquo;</button>
			</div>
		</div>
	</form>
</div>
	
<div ng-show="poll.userVoted">
	<!--<table class="result-table">
		<tr ng-repeat="choice in polled">
			<td>{{choice.text}}</td>
			<td>
				<table style="background-color: lightblue; width: {{choice.votes.length/poll.totalVotes*100}}%; text-align: right">
					<tr><td>{{choice.votes.length}}</td></tr>
				</table>
			</td>
		</tr>
	</table>-->
			
	<p>
		<em>
			{{poll.totalVotes}} votos contados.
		</em>
	</p>
	
	<p><hr></p>
</div>

</section>